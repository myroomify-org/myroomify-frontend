<div class="container mb-5">
    <h2 class="mt-5 mb-5">Calendar</h2>

    <!--Search-->
    <div class="mb-4">
        <div class="row">
            <div class="col-md-4">
                <label class="form-label fw-bold" style="color: #134e4a;">Choose a room</label>
                <select class="form-select border-teal" (change)="onFilter($event)">
                    <option value="all">Show all</option>
                    @for(roomInfo of rooms; track roomInfo.id) {
                        <option [value]="roomInfo.id">{{ roomInfo.name }}</option>
                    }
                </select>
            </div>
        </div>
    </div>

    <!--Calendar-->
    <div class="row">
        @for(room of filteredCalendars; track room.roomId) {
            <div class="col-md-4 mb-4">
                <div class="card shadow-sm p-3">
                    <h3 class="text-center mb-3" style="color: #134e4a;">
                        {{ room.roomName }}
                    </h3>
                    <full-calendar [options]="room.options"></full-calendar>
                </div>
            </div>
        } @empty {
            <div class="col-12 text-center">
                <p>No calendars to display</p>
            </div>
        }
    </div>

    <!-- Modal -->
    <div class="modal fade" id="bookingModal" tabindex="-1" aria-labelledby="bookingModalLabel">
        <div class="modal-dialog">
            <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Booking Details</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" *ngIf="booking">
                <p><strong>Guest name:</strong> {{ booking.title }}</p>
                <p><strong>Guest email:</strong> {{ booking.email }}</p>
                <p><strong>Arrival:</strong> {{ booking.start | date:'yyyy. MM. dd.' }}</p>
                <p><strong>Departure:</strong> {{ booking.end | date:'yyyy. MM. dd.' }}</p>
                <hr>
                <p class="text-muted small italic">Editing is not allowed here.</p>
            </div>
            </div>
        </div>
    </div>
</div>